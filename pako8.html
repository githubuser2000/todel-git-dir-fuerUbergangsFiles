<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>pako Beispiel</title>
    <script src="pako.min.js"></script>
    <script src="jquery-3.6.4.min.js"></script>
  </head>
  <body>
    <script>
        // Lade die HTML-Datei
fetch("/home/alex/middle.html")
  .then(response => response.text())
  .then(html => {
    // Erstelle ein temporäres Element, um das HTML zu parsen
    const tempElement = document.createElement('div');
    tempElement.innerHTML = html;
    // Greife auf alle table-Elemente im Dokument zu
    const tableElement =  tempElement.getElementsByTagName('table')[0];
      // Erstelle ein leeres 2D-Array, um die Tabellenzelleninhalte zu speichern
const tableData = [];

// Greife auf alle <tr>-Elemente in der Tabelle zu
const trElements = tableElement.getElementsByTagName('tr');
for (let i = 0; i < trElements.length; i++) {
  const trElement = trElements[i];
  const rowData = [];

  // Greife auf alle <td>-Elemente in der aktuellen <tr>-Zeile zu
  const tdElements = trElement.getElementsByTagName('td');

  // Iteriere durch alle <td>-Elemente in der aktuellen <tr>-Zeile
  for (let j = 0; j < tdElements.length; j++) {
    const tdElement = tdElements[j];

    // Füge den Textinhalt des aktuellen <td>-Elements zur aktuellen Zeile hinzu
    rowData.push(tdElement.textContent);
  }

  // Füge die aktuelle Zeile zur 2D-Matrix hinzu
  tableData.push(rowData);
}

// Gib das 2D-Array mit den Tabellenzelleninhalten aus
console.log(tableData);
      data = tableData
      const compressedCells = [];

      // Jede Zelle einzeln komprimieren
      for (let row = 0; row < data.length; row++) {
        for (let col = 0; col < data[row].length; col++) {
          compressedCells.push(pako.deflate(data[row][col], { to: 'string' }));
        }
      }

      // Nur eine Zelle dekomprimieren
      zeilen  = 4
      spalten = 3
      zeile = 6 // 1 ist zweite zeile
      spalte = 19 // 2 ist dritte spalte
      // fängt von 0 an zu zählen
      ort =  zeile * zeilen + spalte; // 6
      const decompressedCellData = pako.inflate(compressedCells[ort]);
      const decompressedCell = decompressedCellData[0];
      console.log(decompressedCell); // 5
        });
</script>
  </body>
</html>
